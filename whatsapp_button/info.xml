<?xml version="1.0" encoding="utf-8"?>
<jtlshopplugin>
  <Name>WhatsApp Button</Name>
  <PluginID>whatsapp_button</PluginID>
  <Description>Floating WhatsApp chat button with admin-configurable settings.</Description>
  <Author>you</Author>
  <URL>https://example.com</URL>

  <XMLVersion>200</XMLVersion>
  <Version>1.0.7</Version>
  <CreateDate>2025-10-20</CreateDate>
  <MinShopVersion>5.6.0</MinShopVersion>
  <MaxShopVersion>5.99.99</MaxShopVersion>

  <Install>
    <AdminMenu>
      <Menu>
        <Name>admin_menu_title</Name>
        <Filename>adminmenu/index.php</Filename>
        <Sort>100</Sort>
      </Menu>
    </AdminMenu>

    <CSS>
      <file>
        <name>whatsapp.css</name>
        <priority>5</priority>
      </file>
    </CSS>

    <JS>
      <file>
        <name>whatsapp.js</name>
        <priority>5</priority>
        <position>body</position>
      </file>
    </JS>
  </Install>

  <!-- Hooks üst düzeyde olabilir -->
  <Hooks>
    <Hook id="352">frontend/template/whatsapp.tpl</Hook>
  </Hooks>

  <!-- Ayarlar -->
  <Config>
    <Settings>
      <Section Name="general" Label="general" Sort="10">
        <Setting Key="phone" Type="text" Sort="10" Required="Y">
          <Name>phone</Name>
          <Description>phone_desc</Description>
          <Default></Default>
          <InputMaxLength>32</InputMaxLength>
        </Setting>
        <Setting Key="prefill_message" Type="textarea" Sort="20">
          <Name>prefill_message</Name>
          <Description>prefill_message_desc</Description>
          <Default></Default>
          <InputMaxLength>500</InputMaxLength>
        </Setting>
        <Setting Key="label" Type="text" Sort="30">
          <Name>label</Name>
          <Description>label_desc</Description>
          <Default>WhatsApp</Default>
          <InputMaxLength>60</InputMaxLength>
        </Setting>
        <Setting Key="position" Type="selectbox" Sort="40">
          <Name>position</Name>
          <Description>position_desc</Description>
          <SelectboxOptions>
            <Option value="right">position_right</Option>
            <Option value="left">position_left</Option>
          </SelectboxOptions>
          <Default>right</Default>
        </Setting>
        <Setting Key="visible_on_mobile" Type="checkbox" Sort="50" Default="Y">
          <Name>visible_on_mobile</Name>
          <Description>visible_on_mobile_desc</Description>
        </Setting>
        <Setting Key="visible_on_desktop" Type="checkbox" Sort="60" Default="Y">
          <Name>visible_on_desktop</Name>
          <Description>visible_on_desktop_desc</Description>
        </Setting>
        <Setting Key="zindex" Type="number" Sort="70" Default="200">
          <Name>zindex</Name>
          <Description>zindex_desc</Description>
          <NumberAttributes>
            <Min>0</Min>
            <Max>999999</Max>
          </NumberAttributes>
        </Setting>
      </Section>
    </Settings>
  </Config>

  <LocalizationFiles>
    <File lang="de-DE">/lang/de-DE.xml</File>
    <File lang="tr-TR">/lang/tr-TR.xml</File>
  </LocalizationFiles>

  <!-- Geçmiş sürümlere yönelik güncelleme adımları -->
  <Update>
    <Version>1.0.6</Version>
    <!-- 1.0.6'ya güncellerken yapılacak özel bir şey yoksa boş bırakılabilir -->
  </Update>

  <Update>
    <Version>1.0.7</Version>
    <!-- Yapı değişikliği varsa burada minimal anahtar referansları yeterli -->
    <Config>
      <Settings>
        <Section Name="general" Label="general" Sort="10">
          <Setting Key="phone"/>
          <Setting Key="prefill_message"/>
          <Setting Key="label"/>
          <Setting Key="position"/>
          <Setting Key="visible_on_mobile"/>
          <Setting Key="visible_on_desktop"/>
          <Setting Key="zindex"/>
        </Section>
      </Settings>
    </Config>
  </Update>
</jtlshopplugin>
